<div style="font-family: Noto Sans, sans-serif">
  <h1 id="title">
    Config Hub
    <i class="fa fa-eye pull-right fa"></i>
    <i class="fa fa-edit pull-right"></i>
    <i class="fa fa-archive pull-right"></i>
  </h1>
  <h3 id="greeting">
    <i class="fa fa-hand-spock-o"></i>
    Welcome to ConfigHub!</h3>
  <h4 id="description">Store, edit and view your configuration files for the Insider app.</h4>
</div>

<div class="row" *ngIf="!loginService.isLoggedIn(); else greet">
  <ch-login></ch-login>
</div>
<ng-template #greet>
  <div class="row center">
    <br>
    <div id="profile-box">
      <h1>Hey, {{getUser()}}!</h1>
      <button pButton
              type="button"
              class="ui-button-info shadow"
              (click)="getFileCount()"
              label="Get my file count">
      </button>
      <h3 *ngIf="countExists; else break">You have {{fileCount}} files stored</h3>
      <ng-template #break>
        <hr>
      </ng-template>
      <br>
      <button pButton
              icon="fa-arrow-right"
              type="button"
              class="ui-button-info shadow"
              (click)="logout()"
              label="Logout">
      </button>
    </div>
    <div id="upload-pane">
      <br>
      <br>
      <br>
      <h4 class="text-shadow">Quick upload</h4>
      <!--suppress HtmlUnknownAttribute -->
      <p-fileUpload name="configFile"
                    url="/api/files/store"
                    accept=".txt"
                    auto="true"
                    mode="basic"
                    chooseLabel="Choose File">
      </p-fileUpload>
    </div>
    <br>
  </div>
</ng-template>

<hr>

<div class = "container" >
  <div class="center">
    <i class="fa fa-arrow-circle-down fa-2x rotate"></i>
  </div>
  <h4 class="center">Some cool stats about this site:</h4>
  <br>
  <div class="row">
    <div class="col-lg-offset-2 col-lg-8" >
      <ch-usage-visitor></ch-usage-visitor>
      <ch-email-domain-visitor></ch-email-domain-visitor>
    </div>
  </div>
</div>
<br>

